<div class="row">
  <div  class="col-12" id="listPieces" style="background-color: #FAFAFA !important;">
    <app-content-menu [menus]="menus" [title]="'Camions'">
      <div class="col-5"><h2>Camion</h2></div>
      <div class="col-7" style="text-align: right">
        <button (click)="addPiece()" class="btn btn-secondary rounded rounded-pill mt-3 " data-bs-target="#exampleModal"
                data-bs-toggle="modal"><i class="fa fa-plus"></i>Ajouter piece
        </button>
      </div>
    </app-content-menu>
    <div>
      <div class="row mb-4">
        <div class="col-12 row mt-3">
          <div class="col-2">

          </div>
          <div class="co" style="display: inline">
            <div class="form-group has-search col-12" style="display: inline;width: 100px;margin-right: 20px">
              <span class="fa fa-search form-control-feedback"></span>
              <input class="form-control rounded vsearch rounded-pill"
                     placeholder="Que recherchez-vous ?" style="width:200px;display:inline;background-color: #f4f4f4;border: none;color: #747474" type="text">

            </div>
            <select class=" form-control border  border-2 border-secondary rounded rounded-pill"
                    style="font-size:12px;display: inline;width: 90px;margin-right: 20px">
              <option selected>Marque</option>
            </select>
            <select class="form-control border border-2  border-secondary rounded rounded-pill"
                    style="font-size:12px;display: inline;width: 90px;margin-right: 20px">
              <option selected>Catégorie</option>

            </select>
            <select class="form-control border border-2  border-secondary rounded rounded-pill"
                    style="font-size:12px;display: inline;width: 90px;margin-right: 20px">
              <option selected>Modele</option>

            </select>
            <select class="form-control   border border-2  border-secondary rounded rounded-pill"
                    style="font-size:12px;display: inline;width: 100px;margin-right: 20px">
              <option selected value="">Etat</option>
              <option value="Dispo">Dispo</option>
              <option value="En course">En course</option>
              <option value="En entretien">En entretien</option>
              <option value="En panne">En panne</option>

            </select>
            <!-- <select  style="font-size:12px;display: inline;width: 130px;margin-right: 20px" class="form-control   border border-2  border-secondary rounded rounded-pill">
               <option selected>Nbre de courses</option>

             </select>-->
            <button class="btn btn-secondary border border-2  border-secondary rounded rounded-pill"
                    style="font-size:12px;display: inline;margin-right: 20px">
              <i class="fas fa-search"></i>

            </button>
            <button
              class="btn   rounded rounded-circle"
              style="background-color: #F2F2F2;height:35px;width:35px;padding-left:9px;float: right;margin-left: 20px"><i class="fa  fa-trash"></i></button>
            <button
              class="btn ml-5  rounded rounded-circle"
              style="background-color: #F2F2F2;height:35px;width:35px;padding-left:9px;float: right;margin-left: 10px"><i class="fas fa-bars"></i></button>
            <button
              class="btn ml-2  rounded rounded-circle"
              style="background-color: #F2F2F2;height:35px;width:35px;padding-left:9px;float: right;margin-left: 10px"><i class="fas fa-th-large"></i></button>

          </div>
          <div class="col-2" style="text-align: right">
          </div>
        </div>
        <div class="col-2">

        </div>
        <div class="col-4"></div>
      </div>
      <!-- <p *ngIf="deletingSelection.length > 0">{{deletingSelection.length>1?deletingSelection.length + ' camions séléctionnés' : deletingSelection.length + ' camion selectionné'}}</p>-->
      <div class="row overflow-auto" id="scrollZone" style="height: 500px;">

        <app-loader [hidden]="!loaderList"></app-loader>
        <div *ngFor="let piece of tabPieces" class="col-2 mt-5" style="position: relative">
          <app-piece-card (clickedToAppro)="getAppro($event)" [cardId]="1"
                          [piece]="piece"
                          style="position: relative"></app-piece-card>
        </div>

        <!--  -->
        <button (click)="detailsPiece()" data-bs-target="#exampleModal" data-bs-toggle="modal" hidden="true"
                id="detailsButton">h
        </button>
      </div>
    </div>
  </div>

  <div class="col-3" id="detailsAppro" *ngIf="approSelection.length>0">

    <div style="height: 90vh;">
      <div class="row">
        <div class="col-1">
          <div [class.expanded]="expandedAppro" [class.unexpanded]="!expandedAppro" style="height: 37.5vh;width: 7px;   margin-left: -12px;">

          </div>
          <div [class.expanded]="expandedAppro" [class.unexpanded]="!expandedAppro"  (click)="expandDiv()" style="height: 15vh;width: 32px;margin-left: -37px;border-top-left-radius: 8px;padding-top: 55px;cursor: pointer;   padding-left: 4px;border-bottom-left-radius: 8px;">
            <i [hidden]="expandedAppro" class="fas fa-angle-double-left " style="color: white;font-size: 23px"></i>
            <i [hidden]="!expandedAppro" class="fas fa-angle-double-right " style="color: white;font-size: 23px"></i>
          </div>
          <div [class.expanded]="expandedAppro" [class.unexpanded]="!expandedAppro"  style="height: 37.5vh;width: 7px;   margin-left: -12px;">

          </div>
        </div>
        <div class="col-11" >
          <div style="height: 83vh;">
            <p style="font-size: 25px">Nouvel approvisionnement</p>
            <div class="mb-4">
              <label class="mb-2" style="font-weight: bold;padding-left: 5px">Date</label>

              <input type="date" class="rounded-pill rounded form-control" name="immatriculation" style="outline: none;  background-color: #f4f4f4;border: none" placeholder="Saisir le numéro d’immatriculation">
            </div>
            <div class="mb-4">
              <label class="mb-2" style="font-weight: bold;padding-left: 5px">Produits</label><br><br>
            <p style="padding-left: 5px">Montant achat total: <span></span> </p>
              <div class="row">
                <div class="col-9">  <div class="mt-3" style="height: 40px;width: 100%;border-radius: 17px;background-color: #F4F4F4;padding-top: 7px;padding-left: 10px;padding-right: 10px;color: #747474">
                  <span>Tag</span>
                  <span style="float: right">x</span>
                </div>
                </div>
                <div [hidden]="!expandedAppro" class="col-1" style="margin-top: 10px">
                  <div style="width: 80%;display: inline-block">
                    <div><i class="fas fa-angle-up"></i> </div>
                    <div><i class="fas fa-angle-down"></i></div>
                  </div>
                  <div style="width: 10%;display: inline-block"><span style="display: inline-block">1</span></div>

               </div>

                <div [hidden]="!expandedAppro"class="col-2" style="margin-top: 20px">

                  <input class="inputCourse txt" style="font-size: 14px !important;font-style: italic"  type="number" placeholder="Prix d'achat" value="">

                </div>
              </div>



            </div>
          </div>
          <div  style="height: 5vh;text-align: right" class="fixed-bottoms">
            <button type="button" class="btn btn-outline-secondary rounded rounded-pill" data-bs-dismiss="modal">Annuler</button>
            <button style="margin-left: 20px" type="button" class="btn btn-secondary rounded rounded-pill"> <i class="fas fa-shopping-cart"></i> S'approvisionner</button>

          </div>
        </div>
      </div>



    </div>
  </div>
</div>


<!--<div style="width: 400px;height: 100vh;background-color: red">
  <h1>ee</h1>
</div>-->

<app-modal [modalTitle]="modalTitle" [size]="size">

  <div *ngIf="modalTitle == 'Ajout d\' une piece'" class="modal-body overflow-auto">

  </div>

  <div *ngIf="modalTitle == 'Ajout d\' une piece'" class="modal-footer">
    <button class="btn btn-outline-secondary rounded rounded-pill" data-bs-dismiss="modal" type="button">Annuler
    </button>
    <button class="btn btn-secondary rounded rounded-pill" type="button">Enregistrer</button>
  </div>


  <div *ngIf="modalTitle == 'Details d\' une piece'" class="modal-body overflow-auto">
    <app-loader [hidden]="!loaderDetails"></app-loader>

  </div>
</app-modal>
